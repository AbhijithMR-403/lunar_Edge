{% extends "user_partition/user_page/base.html" %}

{% block body %}
<div class="container">
    
    </div>
<!-- Checkout Start -->
<div class="container-fluid">
    <div class="row px-xl-5">
        <div class="col-lg-8">
            <h5 class="section-title position-relative text-uppercase mb-3"><span class="pr-3">Billing Address</span></h5>
            <div class="bg-light p-30 mb-5">
                <div class="row ">
        
                    {% for address in addresses %}
                        <div class="card bg-light my-2 mx-2 p-0" style="max-width: 18rem;">
                            {% if address.is_default %}
                            <div class="card-header bg-success text-white">Default</div>
                            {% endif %}
                            <div class="card-body">
                            <p class="card-text">
                                {{address.name}},
                                {{address.phone}},
                                {{address.address_line_1}},
                                {{address.address_line_2}},
                                {{address.city}},
                                {{address.state}},
                                {{address.country}},
                                {{address.pincode}}
                                
                                
                            </p>
                            {% if not address.is_default %}
                            <a class="btn btn-success my-2" href="{% url 'default_address' address.id %}">Make Default</a>
                            
                            {% endif %}
                            <a class="text-danger" href="{% url 'address_delete' address.id %}">
                                <p>
                                    Delete
                                </p>
                            </a>
                            </div>
                        </div>
            
                    {% empty %}
                    <h3>Create address</h3>
                    {% endfor %}
                    </div>
                <form action="{% url "order:add_address" %}" method="POST"> {% csrf_token %}
                <div class="row">
                    <div class="col-md-6 form-group">
                        <label>Name</label>
                        <input class="form-control" type="text" placeholder="John">
                    </div>
                    <div class="col-md-6 form-group">
                        <label>Mobile No</label>
                        <input class="form-control" type="text" placeholder="+123 456 789">
                    </div>
                    <div class="col-md-6 form-group">
                        <label>Address Line 1</label>
                        <input class="form-control" type="text" placeholder="123 Street">
                    </div>
                    <div class="col-md-6 form-group">
                        <label>Address Line 2</label>
                        <input class="form-control" type="text" placeholder="123 Street">
                    </div>
                    <div class="col-md-6 form-group">
                        <label>Country</label>
                        <input class="form-control" type="text" placeholder="India">
                    </div>
                    <div class="col-md-6 form-group">
                        <label>City</label>
                        <input class="form-control" type="text" placeholder="New York">
                    </div>
                    <div class="col-md-6 form-group">
                        <label>State</label>
                        <input class="form-control" type="text" placeholder="New York">
                    </div>
                    <div class="col-md-6 form-group">
                        <label>ZIP Code</label>
                        <input class="form-control" type="text" placeholder="123">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">
                    Create address
                </button>
            </form>
            </div>
        </div>
        <div class="col-lg-4">
            <h5 class="section-title position-relative text-uppercase mb-3"><span class="pr-3">Order Total</span></h5>
            <div class="bg-light p-30 mb-5">
                <div class="border-bottom">
                    <h6 class="mb-3">Products</h6>
                    {% for item in cart_details %}
                    <div class="d-flex justify-content-between">
                        <p>{{item.product_id.product.product_name}}</p>
                        <p>₹{{item.product_id.sale_price}} </p>
                    </div>
                    {% endfor %}
                </div>
                <div class="border-bottom pt-3 pb-2">
                    <div class="d-flex justify-content-between mb-3">
                        <h6>Subtotal</h6>
                        <h6>₹{{subtotal}}</h6>
                    </div>
                    <div class="d-flex justify-content-between">
                        <h6 class="font-weight-medium">Shipping</h6>
                        <h6 class="font-weight-medium">₹100</h6>
                    </div>
                </div>
                <div class="pt-2">
                    <div class="d-flex justify-content-between mt-2">
                        <h5>Total</h5>
                        <h5>₹{{total}}</h5>
                    </div>
                </div>
            </div>
            <div class="mb-5">
                <h5 class="section-title position-relative text-uppercase mb-3"><span class="pr-3">Payment</span></h5>
                <div class="bg-light p-30">
                    <div class="form-group">
                        <div class="custom-control custom-radio">
                            <input type="radio" class="custom-control-input" name="payment" id="paypal">
                            <label class="custom-control-label" for="paypal">Paypal</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="custom-control custom-radio">
                            <input type="radio" class="custom-control-input" name="payment" id="directcheck">
                            <label class="custom-control-label" for="directcheck">Direct Check</label>
                        </div>
                    </div>
                    <div class="form-group mb-4">
                        <div class="custom-control custom-radio">
                            <input type="radio" class="custom-control-input" name="payment" id="banktransfer">
                            <label class="custom-control-label" for="banktransfer">Bank Transfer</label>
                        </div>
                    </div>
                    <button class="btn btn-block btn-primary font-weight-bold py-3">Place Order</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Checkout End -->
{% endblock body %}